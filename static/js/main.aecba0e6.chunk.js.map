{"version":3,"sources":["services/phonebook-api.js","redux/phonebook/phonebook-operations.js","redux/phonebook/phonebook-selectors.js","redux/phonebook/phonebook-actions.js","redux/phonebook/phonebook-reducers.js","components/Section/Section.styles.js","components/Section/Section.jsx","components/Filter/Filter.jsx","components/Contacts/Contacts.styles.js","components/Contacts/Contacts.jsx","components/Form/Form.styles.js","components/Form/Form.jsx","App.js","redux/store.js","index.js"],"names":["fetchContacts","a","axios","get","response","data","postContact","contact","post","delContact","contactId","delete","defaults","baseURL","getContacts","createAsyncThunk","_","rejectWithValue","contacts","addContact","contactobj","deleteContact","getFilter","state","filter","items","getLoading","loading","getfilteredContacts","createSelector","allContacts","normalizedFilter","toLowerCase","name","includes","changeFilter","createAction","createReducer","fulfilled","payload","id","action","pending","rejected","error","combineReducers","Container","Title","Section","title","children","Filter","value","useSelector","contactsSelectors","dispatch","useDispatch","TextField","label","size","InputLabelProps","shrink","multiline","onChange","e","target","ContactItem","NumberText","Contacts","options","isLoading","map","number","Skeleton","height","width","style","Button","startIcon","fontSize","variant","color","onClick","contactsOperations","WrapperForm","FormContacts","useState","setName","setNumber","handleInputChange","event","currentTarget","resetForm","onSubmit","preventDefault","find","alert","required","type","App","useEffect","Form","length","store","configureStore","reducer","contactsReducer","devTools","process","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","concat","logger","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.aecba0e6.chunk.js","sourcesContent":["import axios from \"axios\";\n\naxios.defaults.baseURL = \"http://localhost:4040\";\n\nexport async function fetchContacts() {\n  const response = await axios.get(\"/contacts\");\n  return response.data;\n}\n\nexport async function postContact(contact) {\n  const response = await axios.post(\"/contacts\", contact);\n  return response.data;\n}\n\nexport async function delContact(contactId) {\n  const response = await axios.delete(`/contacts/${contactId}`);\n  return response.data;\n}\n","import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { fetchContacts, postContact, delContact } from \"services/phonebook-api\";\n\nexport const getContacts = createAsyncThunk(\n  \"contacts/fetchContacts\",\n  async (_, { rejectWithValue }) => {\n    try {\n      const contacts = await fetchContacts();\n      return contacts;\n    } catch (error) {\n      return rejectWithValue(error);\n    }\n  }\n);\n\nexport const addContact = createAsyncThunk(\n  \"contacts/addContact\",\n  async (contactobj, { rejectWithValue }) => {\n    try {\n      const contact = await postContact(contactobj);\n      return contact;\n    } catch (error) {\n      return rejectWithValue(error);\n    }\n  }\n);\n\nexport const deleteContact = createAsyncThunk(\n  \"contacts/deleteContact\",\n  async (contactId, { rejectWithValue }) => {\n    try {\n      await delContact(contactId);\n      return contactId;\n    } catch (error) {\n      return rejectWithValue(error);\n    }\n  }\n);\n","import { createSelector } from \"@reduxjs/toolkit\";\n\nexport const getFilter = (state) => state.contacts.filter;\n\nexport const getContacts = (state) => state.contacts.items;\n\nexport const getLoading = (state) => state.contacts.loading;\n\nexport const getfilteredContacts = createSelector(\n  [getContacts, getFilter],\n  (allContacts, filter) => {\n    const normalizedFilter = filter.toLowerCase();\n\n    return allContacts.filter((contact) =>\n      contact.name.toLowerCase().includes(normalizedFilter)\n    );\n  }\n);\n","import { createAction } from \"@reduxjs/toolkit\";\n\nexport const changeFilter = createAction(\"contact/changeFilter\");\n","import { combineReducers } from \"redux\";\nimport { createReducer } from \"@reduxjs/toolkit\";\nimport { changeFilter } from \"./phonebook-actions\";\nimport { addContact, deleteContact, getContacts } from \"./phonebook-operations\";\n\nconst items = createReducer([], {\n  [addContact.fulfilled]: (state, { payload }) => [...state, payload],\n  [deleteContact.fulfilled]: (state, { payload }) =>\n    state.filter((contact) => contact.id !== payload),\n  [getContacts.fulfilled]: (_, action) => action.payload,\n});\n\nconst filter = createReducer(\"\", {\n  [changeFilter]: (_, { payload }) => payload,\n});\n\nconst loading = createReducer(false, {\n  [addContact.pending]: () => true,\n  [addContact.fulfilled]: () => false,\n  [addContact.rejected]: () => false,\n  [deleteContact.pending]: () => true,\n  [deleteContact.fulfilled]: () => false,\n  [deleteContact.rejected]: () => false,\n  [getContacts.pending]: () => true,\n  [getContacts.fulfilled]: () => false,\n  [getContacts.rejected]: () => false,\n});\n\nconst error = createReducer(null, {\n  [addContact.rejected]: (_, { payload }) => payload,\n  [deleteContact.rejected]: (_, { payload }) => payload,\n  [getContacts.rejected]: (_, { payload }) => payload,\n  [addContact.pending]: () => null,\n  [deleteContact.pending]: () => null,\n  [getContacts.pending]: () => null,\n});\n\nexport default combineReducers({\n  items,\n  loading,\n  error,\n  filter,\n});\n","import styled from \"@emotion/styled/macro\";\n\nexport const Container = styled.div`\n  width: 500px;\n  margin: 0 auto;\n`;\n\nexport const Title = styled.h2`\n  margin: 0;\n  margin-bottom: 20px;\n  text-align: center;\n  color: #333;\n`;\n","import PropTypes from \"prop-types\";\nimport { Container, Title } from \"./Section.styles\";\n\nconst Section = ({ title, children }) => (\n  <Container>\n    <Title>{title}</Title>\n    {children}\n  </Container>\n);\n\nSection.propTypes = {\n  title: PropTypes.string.isRequired,\n  children: PropTypes.node.isRequired,\n};\n\nexport default Section;\n","import { useSelector, useDispatch } from \"react-redux\";\nimport { changeFilter } from \"redux/phonebook/phonebook-actions\";\nimport { contactsSelectors } from \"redux/phonebook\";\n\nimport TextField from \"@material-ui/core/TextField\";\n\nfunction Filter() {\n  const value = useSelector(contactsSelectors.getFilter);\n  const dispatch = useDispatch();\n\n  return (\n    <div>\n      <TextField\n        id=\"standard-multiline-flexible\"\n        label=\"Find contacts by name\"\n        size=\"medium\"\n        InputLabelProps={{\n          shrink: true,\n        }}\n        multiline\n        value={value}\n        onChange={(e) => dispatch(changeFilter(e.target.value))}\n      />\n    </div>\n  );\n}\n\nexport default Filter;\n","import styled from \"@emotion/styled/macro\";\n\nexport const ContactItem = styled.li`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 10px;\n  list-style: none;\n  transition: color 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n  &:hover {\n    color: #3561d0;\n  }\n`;\n\nexport const NumberText = styled.span`\n  margin-right: 30px;\n`;\n","import { useSelector, useDispatch } from \"react-redux\";\nimport { contactsOperations } from \"redux/phonebook\";\nimport { contactsSelectors } from \"redux/phonebook\";\n\nimport Filter from \"../Filter/Filter\";\n\nimport { ContactItem, NumberText } from \"./Contacts.styles\";\nimport Button from \"@material-ui/core/Button\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport { Skeleton } from \"@material-ui/lab\";\n\nconst Contacts = () => {\n  const options = useSelector(contactsSelectors.getfilteredContacts);\n  const isLoading = useSelector(contactsSelectors.getLoading);\n\n  const dispatch = useDispatch();\n\n  return (\n    <>\n      <Filter />\n      <ul>\n        {options.map(({ id, name, number }) => {\n          return (\n            <ContactItem key={id}>\n              {!isLoading ? (\n                <>\n                  <span style={{ width: 150 }}>{name}:</span>\n                  <NumberText>{number}</NumberText>\n                  <Button\n                    startIcon={<DeleteIcon fontSize=\"small\" />}\n                    variant=\"outlined\"\n                    color=\"primary\"\n                    onClick={() =>\n                      dispatch(contactsOperations.deleteContact(id))\n                    }\n                  >\n                    Delete\n                  </Button>\n                </>\n              ) : (\n                <Skeleton height={20} width=\"100%\" />\n              )}\n            </ContactItem>\n          );\n        })}\n      </ul>\n    </>\n  );\n};\n\nexport default Contacts;\n","import styled from \"@emotion/styled/macro\";\n\nexport const WrapperForm = styled.div`\n  margin-bottom: 20px;\n  padding: 30px;\n  box-shadow: 0px 0px 5px 1px #333;\n`;\n\nexport const Container = styled.div`\n  margin-bottom: 35px;\n`;\n","import { useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { contactsSelectors } from \"redux/phonebook\";\nimport { contactsOperations } from \"redux/phonebook\";\n\nimport { WrapperForm, Container } from \"./Form.styles\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\n\nfunction FormContacts() {\n  const [name, setName] = useState(\"\");\n  const [number, setNumber] = useState(\"\");\n\n  const contacts = useSelector(contactsSelectors.getContacts);\n  const dispatch = useDispatch();\n\n  const handleInputChange = (event) => {\n    const { name, value } = event.currentTarget;\n    switch (name) {\n      case \"name\":\n        setName(value);\n        break;\n\n      case \"number\":\n        setNumber(value);\n        break;\n\n      default:\n        return;\n    }\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    if (\n      contacts.find(\n        (contact) => name.toLowerCase() === contact.name.toLowerCase()\n      )\n    ) {\n      alert(`${name} is already in contacts.`);\n      return;\n    }\n\n    dispatch(contactsOperations.addContact({ name, number }));\n\n    resetForm();\n  };\n\n  const resetForm = () => {\n    setName(\"\");\n    setNumber(\"\");\n  };\n\n  return (\n    <WrapperForm>\n      <form onSubmit={handleSubmit}>\n        <Container>\n          <TextField\n            name=\"name\"\n            value={name}\n            id=\"outlined-helperText\"\n            label=\"Name\"\n            variant=\"outlined\"\n            required\n            onChange={handleInputChange}\n          />\n        </Container>\n\n        <Container>\n          <TextField\n            type=\"tel\"\n            name=\"number\"\n            value={number}\n            id=\"outlined-helperTextqqq\"\n            label=\"Number\"\n            variant=\"outlined\"\n            required\n            onChange={handleInputChange}\n          />\n        </Container>\n        <Button type=\"submit\" variant=\"contained\" color=\"primary\">\n          Add contact\n        </Button>\n      </form>\n    </WrapperForm>\n  );\n}\n\nexport default FormContacts;\n","import { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { contactsOperations } from \"redux/phonebook\";\nimport { contactsSelectors } from \"redux/phonebook\";\n\nimport Section from \"./components/Section/Section\";\nimport Contacts from \"./components/Contacts/Contacts\";\nimport FormContacts from \"./components/Form/Form\";\n\nfunction App() {\n  const contacts = useSelector(contactsSelectors.getContacts);\n  const dispatch = useDispatch();\n\n  useEffect(() => dispatch(contactsOperations.getContacts()), [dispatch]);\n\n  return (\n    <>\n      <Section title=\"Phonebook\">\n        <FormContacts />\n      </Section>\n\n      {contacts.length > 0 && (\n        <Section title=\"Contacts\">\n          <Contacts />\n        </Section>\n      )}\n    </>\n  );\n}\n\nexport default App;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport logger from \"redux-logger\";\nimport {\n  // persistStore,\n  // persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from \"redux-persist\";\n//import storage from \"redux-persist/lib/storage\";\nimport contactsReducer from \"./phonebook/phonebook-reducers\";\n\n// const persistConfig = {\n//   key: \"root\",\n//   storage,\n//   blacklist: [\"filter\"],\n// };\n\nconst store = configureStore({\n  reducer: {\n    //contacts: persistReducer(persistConfig, contactsReducer),\n    contacts: contactsReducer,\n  },\n  devTools: process.env.NODE_ENV !== \"production\",\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware({\n      serializableCheck: {\n        ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n      },\n    }).concat(logger),\n});\n\n// const persistor = persistStore(store);\n\n// export default { store, persistor };\n\nexport default store;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\n//import { PersistGate } from \"redux-persist/integration/react\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport store from \"./redux/store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      {/* <PersistGate loading={null} persistor={store.persistor}> */}\n      <App />\n      {/* </PersistGate> */}\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}